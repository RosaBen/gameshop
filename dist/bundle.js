/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,o,r,a={300:(e,t,n)=>{n.a(e,async(e,t)=>{try{function h(e){return C(e)||w(e)||y(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function w(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function E(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var l=o&&o.prototype instanceof c?o:c,d=Object.create(l.prototype);return L(d,"_invoke",function(n,o,r){var a,c,l,d=0,s=r||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,l=e,m.n=n,i}};function p(n,o){for(c=n,l=o,t=0;!u&&d&&!r&&t<s.length;t++){var r,a=s[t],p=m.p,f=a[2];n>3?(r=f===o)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((r=n<2&&p<a[1])?(c=0,m.v=o,m.n=a[1]):p<f&&(r=n<3||a[0]>o||o>f)&&(a[4]=n,a[5]=o,m.n=f,c=0))}if(r||n>1)return i;throw u=!0,o}return function(r,s,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===s&&p(s,f),c=s,l=f;(t=c<2?e:l)||!u;){a||(c?c<3?(c>1&&(m.n=-1),p(c,l)):m.n=l:m.v=l);try{if(d=2,a){if(c||(r="next"),t=a[r]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=e}else if((t=(u=m.n<0)?l:n.call(o,m))!==i)break}catch(t){a=e,c=1,l=t}finally{d=1}}return{value:t,done:u}}}(n,r,a),!0),d}var i={};function c(){}function l(){}function d(){}t=Object.getPrototypeOf;var s=[][o]?t(t([][o]())):(L(t={},o,function(){return this}),t),u=d.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,L(e,r,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=d,L(u,"constructor",d),L(d,"constructor",l),l.displayName="GeneratorFunction",L(d,r,"GeneratorFunction"),L(u),L(u,r,"Generator"),L(u,o,function(){return this}),L(u,"toString",function(){return"[object Generator]"}),(E=function(){return{w:a,m}})()}function L(e,t,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}L=function(e,t,n,o){function a(t,n){L(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},L(e,t,n,o)}function x(e,t,n,o,r,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){x(a,o,r,i,c,"next",e)}function c(e){x(a,o,r,i,c,"throw",e)}i(void 0)})}}var n,o=[],r=0,a="https://api.rawg.io/api/games?key=8300c0cf2bb64d9693d986c5c019deba",i=document.querySelector("header"),c=document.querySelector("main"),l=function(){var e=S(E().m(function e(){var t,n,o,r,i,c=arguments;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:40,e.p=1,e.n=2,fetch("".concat(a,"&page_size=").concat(n,"&page=").concat(t));case 2:return o=e.v,e.n=3,o.json();case 3:return r=e.v,e.a(2,{results:r.results,next:r.next});case 4:return e.p=4,i=e.v,console.error("Error fetching data:",i),e.a(2,{results:[],next:null})}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=S(E().m(function e(t){var n,o,r,i,c,l,d;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o=a.split("?")[0],r=null===(n=a.match(/key=([^&]*)/))||void 0===n?void 0:n[1],i="".concat(o,"/").concat(t,"?key=").concat(r),console.log("Fetching game details from:",i),e.n=1,fetch(i);case 1:if((c=e.v).ok){e.n=2;break}throw new Error("HTTP error! status: ".concat(c.status));case 2:return e.n=3,c.json();case 3:return l=e.v,console.log("Game details received:",l),e.a(2,l);case 4:return e.p=4,d=e.v,console.error("Error fetching game details:",d),e.a(2,null)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}();function k(){return T.apply(this,arguments)}function T(){return T=S(E().m(function e(){var t,n,o,r,a;return E().w(function(e){for(;;)switch(e.n){case 0:t=[],n=40,o=5,r=1;case 1:if(!(r<=o)){e.n=5;break}return e.n=2,l(r,n);case 2:if(0!==(a=e.v).results.length){e.n=3;break}return e.a(3,5);case 3:if(t=[].concat(h(t),h(a.results)),a.next){e.n=4;break}return console.log("no more pages.."),e.a(3,5);case 4:r++,e.n=1;break;case 5:return e.a(2,t.map(function(e){var t=e.released,n=e.background_image,o=e.name,r=e.id,a=e.description;return{releaseDate:t,poster:n,title:o,gameId:r,platforms:e.platforms,genres:e.genres,rating:e.rating,description:a,slug:e.slug,tags:e.tags}}))}},e)})),T.apply(this,arguments)}var s=await k();o=s.slice(r,r+9);var u=s,m=[],p=!1,f=window.location.origin,g=null;function G(e){var t="".concat(f,"/game/").concat(e);window.history.pushState({route:"game",slug:e},"",t),g={type:"game",slug:e};var n=u.find(function(t){return t.slug===e});n?P(n):(console.error("Game not found for slug:",e),_(e))}function M(){window.history.pushState({route:"home"},"",f),g={type:"home"},$()}function _(e){return q.apply(this,arguments)}function q(){return(q=S(E().m(function e(t){var n,o,r,i,c,l,d,s;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o=a.split("?")[0],r=null===(n=a.match(/key=([^&]*)/))||void 0===n?void 0:n[1],i="".concat(o,"/").concat(t,"?key=").concat(r),console.log("Loading game by slug:",i),e.n=1,fetch(i);case 1:if((c=e.v).ok){e.n=2;break}throw new Error("Game not found: ".concat(c.status));case 2:return e.n=3,c.json();case 3:return l=e.v,console.log("Game loaded by slug:",l),d={releaseDate:l.released,poster:l.background_image,title:l.name,gameId:l.id,description:l.description,platforms:l.platforms,genres:l.genres,rating:l.rating,slug:l.slug,tags:l.tags},e.n=4,P(d);case 4:e.n=6;break;case 5:e.p=5,s=e.v,console.error("Error loading game by slug:",s),M();case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function j(e){if(e.state){if(g=e.state,"home"===e.state.route)$();else if("game"===e.state.route&&e.state.slug){var t=u.find(function(t){return t.slug===e.state.slug});t?P(t):_(e.state.slug)}}else g={type:"home"},$()}function O(){var e=window.location.pathname.match(/\/game\/(.+)$/);if(e){var t=e[1];return g={type:"game",slug:t},{type:"game",slug:t}}return g={type:"home"},{type:"home"}}function A(){window.addEventListener("popstate",j);var e=O();if("game"===e.type){var t=u.find(function(t){return t.slug===e.slug});t?setTimeout(function(){P(t)},100):setTimeout(function(){_(e.slug)},100)}}function H(){var e=document.createElement("div");e.classList.add("loadMore");var t=document.createElement("button");t.type="button",t.classList.add("btnLoadMore"),t.textContent="Load More Games",e.appendChild(t),i.appendChild(e);var n=document.createElement("div");return n.classList.add("games-container"),c.appendChild(n),{button:t,containerGames:n}}function P(e){return I.apply(this,arguments)}function I(){return(I=S(E().m(function e(t){var n,o,r,a,l,s,u,m,p,f,g,h,v,y,w,C,b,L,x,S,k,T,G,_,q,j,O,A,H,P,I,D,F,W,z,B,R,U,Y,$,V,J;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return console.log("InitializeCardPage called with game:",t),n=t.releaseDate,o=t.poster,r=t.title,a=t.platforms,l=t.genres,s=t.rating,u=t.gameId,t.slug,m=t.tags,p=document.querySelector(".loadMore"),console.log("Load button found:",p),p?(p.classList.add("hiddenLoad"),console.log("Added hiddenLoad class to load button")):console.error("Load button not found!"),f=document.querySelector(".games-container"),console.log("Games container found:",f),f?(f.classList.add("hiddenGames"),console.log("Added hiddenGames class to games container")):console.error("Games container not found!"),(g=document.createElement("button")).classList.add("backButton"),g.textContent="← Back to Games",g.addEventListener("click",function(){M()}),(h=document.createElement("div")).classList.add("titlePage"),h.appendChild(g),(v=document.createElement("h2")).textContent=r,y=document.createElement("p"),w=document.createElement("p"),y.textContent="Rating: ".concat(s),w.textContent="Released: ".concat(n),h.appendChild(v),h.appendChild(y),h.appendChild(w),(C=document.createElement("section")).classList.add("oneCardContainer"),(b=document.createElement("div")).classList.add("containerImage"),(L=document.createElement("img")).src=o,L.alt=r,b.appendChild(L),C.appendChild(b),(x=document.createElement("div")).classList.add("gameDescription"),(S=document.createElement("div")).classList.add("descriptionDiv"),(k=document.createElement("p")).textContent="Loading detailed description...",k.classList.add("loading-text"),S.appendChild(k),e.p=1,console.log("Fetching details for game ID:",u),e.n=2,d(u);case 2:T=e.v,k.remove(),T?(G=T.description_raw||T.description||t.description||"No description available",(_=document.createElement("p")).innerHTML=G,S.appendChild(_),q=T.platforms||a,j=T.genres||l,O=document.createElement("div"),A=document.createElement("h4"),H=document.createElement("ul"),O.classList.add("platformsGame"),A.textContent="Platforms",q&&q.length>0?q.forEach(function(e){var t=document.createElement("li");t.textContent=e.platform?e.platform.name:e.name||e,H.appendChild(t)}):((P=document.createElement("li")).textContent="No platforms available",H.appendChild(P)),O.appendChild(A),O.appendChild(H),I=document.createElement("div"),D=document.createElement("h4"),F=document.createElement("ul"),I.classList.add("genresGame"),D.textContent="Genres",j&&j.length>0?j.forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,F.appendChild(t)}):((W=document.createElement("li")).textContent="No genres available",F.appendChild(W)),I.appendChild(D),I.appendChild(F),z=document.createElement("div"),B=document.createElement("h4"),R=document.createElement("ul"),z.classList.add("tagsGame"),B.textContent="Tags",(U=T.tags||m)&&U.length>0?U.slice(0,10).forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,R.appendChild(t)}):((Y=document.createElement("li")).textContent="No tags available",R.appendChild(Y)),z.appendChild(B),z.appendChild(R),x.appendChild(S),x.appendChild(O),x.appendChild(I),x.appendChild(z)):(($=document.createElement("p")).textContent=t.description||"No description available",S.appendChild($),N(x,a,l,m)),e.n=4;break;case 3:e.p=3,J=e.v,console.error("Error loading game details:",J),k.remove(),(V=document.createElement("p")).textContent="Error loading detailed description. Using basic information.",V.classList.add("error-text"),S.appendChild(V),N(x,a,l,m);case 4:return C.appendChild(x),i.appendChild(h),c.appendChild(C),e.a(2,{divTitle:h,section:C})}},e,null,[[1,3]])}))).apply(this,arguments)}function N(e,t,n,o){var r=document.createElement("div"),a=document.createElement("h4"),i=document.createElement("ul");if(r.classList.add("platformsGame"),a.textContent="Platforms",t&&t.length>0)t.forEach(function(e){var t=document.createElement("li");t.textContent=e.platform?e.platform.name:e.name||e,i.appendChild(t)});else{var c=document.createElement("li");c.textContent="No platforms available",i.appendChild(c)}r.appendChild(a),r.appendChild(i);var l=document.createElement("div"),d=document.createElement("h4"),s=document.createElement("ul");if(l.classList.add("genresGame"),d.textContent="Genres",n&&n.length>0)n.forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,s.appendChild(t)});else{var u=document.createElement("li");u.textContent="No genres available",s.appendChild(u)}if(l.appendChild(d),l.appendChild(s),o){var m=document.createElement("div"),p=document.createElement("h4"),f=document.createElement("ul");if(m.classList.add("tagsGame"),p.textContent="Tags",o&&o.length>0)o.slice(0,10).forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,f.appendChild(t)});else{var g=document.createElement("li");g.textContent="No tags available",f.appendChild(g)}m.appendChild(p),m.appendChild(f),e.appendChild(m)}e.appendChild(r),e.appendChild(l)}function D(e){if(console.log("Searching for:",e),!e||""===e.trim())return p=!1,F(),r=0,U(o=u.slice(r,r+9)),void B();p=!0;var t=e.toLowerCase().trim();m=u.filter(function(e){var n=e.title.toLowerCase().includes(t),o=e.genres&&e.genres.some(function(e){return e.name&&e.name.toLowerCase().includes(t)}),r=e.platforms&&e.platforms.some(function(e){var n=e.platform?e.platform.name:e.name;return n&&n.toLowerCase().includes(t)}),a=e.tags&&e.tags.some(function(e){return e.name&&e.name.toLowerCase().includes(t)});return n||o||r||a}),console.log("Found ".concat(m.length,' games matching "').concat(e,'"')),F(),m.length>0?(U(m),z()):(W(e),z())}function F(){var e=document.querySelector(".games-container");e&&(e.innerHTML="")}function W(e){var t=document.querySelector(".games-container");if(t){var n=document.createElement("div");n.classList.add("no-results"),n.innerHTML='\n      <h3>No games found for "'.concat(e,'"</h3>\n      <p>Try searching with different keywords or check your spelling.</p>\n    '),t.appendChild(n)}}function z(){var e=document.querySelector(".loadMore");e&&(e.classList.add("hiddenLoad"),window.innerWidth<=768&&(document.body.style.paddingTop="0"))}function B(){var e=document.querySelector(".loadMore");e&&(e.classList.remove("hiddenLoad"),window.innerWidth<=768&&(document.body.style.paddingTop=window.innerWidth<=480?"55px":"60px"))}function R(e){var t=e.poster,n=e.title,o=document.createElement("div");o.classList.add("game-card");var r=document.createElement("img");r.classList.add("poster"),r.src=t,r.alt=n,o.appendChild(r);var a=document.createElement("div");a.classList.add("btnH3");var i=document.createElement("h3");i.textContent=n,a.appendChild(i);var c=document.createElement("button");return c.classList.add("readMore"),c.type="button",c.innerHTML="Read More",a.appendChild(c),o.appendChild(a),o}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=document.querySelector(".games-container");0!==e.length?t?(e.forEach(function(e){var n=R(e);t.appendChild(n)}),document.querySelectorAll(".game-card").forEach(function(e){n.observe(e)})):console.error("Games container not found"):console.error("No games found")}function Y(){console.log("Creating scroll arrows...");var e=document.createElement("div");e.classList.add("scroll-arrows");var t=document.createElement("button");t.classList.add("scroll-arrow","scroll-up"),t.innerHTML='\n    <svg viewBox="0 0 24 24">\n      <path d="M7 14l5-5 5 5z"/>\n    </svg>\n  ';var n=document.createElement("button");return n.classList.add("scroll-arrow","scroll-down"),n.innerHTML='\n    <svg viewBox="0 0 24 24">\n      <path d="M7 10l5 5 5-5z"/>\n    </svg>\n  ',e.appendChild(t),e.appendChild(n),document.body.appendChild(e),console.log("Scroll arrows created and added to DOM"),{upArrow:t,downArrow:n}}function $(){var e=document.querySelector(".titlePage"),t=document.querySelector(".oneCardContainer");e&&e.remove(),t&&t.remove();var n=document.querySelector(".games-container");n&&n.classList.remove("hiddenGames"),p?z():B(),g={type:"home"}}function V(){var e,t,a,i;n=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")})},{root:null,rootMargin:"0px 0px -50px 0px",threshold:.1}),H(),(i=document.querySelector(".inputSearch"))?(i.addEventListener("input",function(e){var t;t=e.target.value,clearTimeout(a),a=setTimeout(function(){D(t)},300)}),i.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),clearTimeout(a),D(e.target.value))}),i.addEventListener("blur",function(){""===i.value.trim()&&D("")})):console.error("Search input not found"),A(),document.addEventListener("click",function(e){if(e.target.classList.contains("readMore")){console.log("Read More button clicked!"),e.preventDefault();var t,n=e.target.closest(".game-card").querySelector("h3").textContent;console.log("Game title found:",n),(t=p?m.find(function(e){return e.title===n}):o.find(function(e){return e.title===n}))||(t=u.find(function(e){return e.title===n})),console.log("Game data found:",t),t&&t.slug?G(t.slug):console.error("No game data or slug found for title:",n)}}),g&&"home"!==g.type||U(o),(e=document.querySelector(".btnLoadMore"))?e.addEventListener("click",function(t){if(t.preventDefault(),p)console.log("Search mode active, not loading more games");else{if((r+=9)>=u.length)return e.disabled=!0,e.textContent="Tous les jeux chargés",void(e.style.opacity="0.6");var n=u.slice(r,r+9);o=[].concat(h(o),h(n)),e.classList.add("loading"),e.textContent="Chargement...",e.disabled=!0,U(n),setTimeout(function(){if(e.classList.remove("loading"),e.textContent="Load More Games",e.disabled=!1,window.innerWidth<=768){var t=document.querySelector(".games-container").querySelectorAll(".game-card");if(t.length>0){var o=t[t.length-n.length];o&&setTimeout(function(){o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},300)}}},800)}}):console.error("Load more button not found"),setTimeout(function(){var e,t,n;e=Y(),t=e.upArrow,n=e.downArrow,t.addEventListener("click",function(){console.log("Up arrow clicked");var e=window.pageYOffset;if(e<=100)window.scrollTo({top:0,behavior:"smooth"});else{var t=window.innerHeight,n=Math.max(0,e-t);console.log("Scrolling to:",n),window.scrollTo({top:n,behavior:"smooth"})}}),n.addEventListener("click",function(){console.log("Down arrow clicked");var e=window.pageYOffset,t=window.innerHeight,n=document.body.scrollHeight-window.innerHeight,o=Math.min(n,e+t);console.log("Scrolling to:",o),window.scrollTo({top:o,behavior:"smooth"})}),window.addEventListener("scroll",function(){var e=window.pageYOffset,o=document.body.scrollHeight-window.innerHeight;t.style.opacity=e>100?"1":"0.3",n.style.opacity=e<o-100?"1":"0.3"})},100),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){var e=document.querySelector(".loadMore");e&&!e.classList.contains("hiddenLoad")&&(window.innerWidth<=768?document.body.style.paddingTop=window.innerWidth<=480?"55px":"60px":document.body.style.paddingTop="0")},250)})}V(),t()}catch(J){t(J)}},1)}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,c),n.exports}e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",n=e?Symbol("webpack exports"):"__webpack_exports__",o=e?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},c.a=(e,a,i)=>{var c;i&&((c=[]).d=-1);var l,d,s,u=new Set,m=e.exports,p=new Promise((e,t)=>{s=t,d=e});p[n]=m,p[t]=e=>(c&&e(c),u.forEach(e),p.catch(e=>{})),e.exports=p,a(e=>{var a;l=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var a=[];a.d=0,e.then(e=>{i[n]=e,r(a)},e=>{i[o]=e,r(a)});var i={};return i[t]=e=>e(a),i}}var c={};return c[t]=e=>{},c[n]=e,c}))(e);var i=()=>l.map(e=>{if(e[o])throw e[o];return e[n]}),d=new Promise(e=>{(a=()=>e(i)).r=0;var n=e=>e!==c&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));l.map(e=>e[t](n))});return a.r?d:i()},e=>(e?s(p[o]=e):d(m),r(c))),c&&c.d<0&&(c.d=0)},c(300)})();