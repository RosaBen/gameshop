/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,o,a={300:(e,t,n)=>{n.a(e,async(e,t)=>{try{function f(e){return b(e)||g(e)||h(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function g(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var l=r&&r.prototype instanceof i?r:i,d=Object.create(l.prototype);return C(d,"_invoke",function(n,r,o){var a,i,l,d=0,s=o||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,l=e,m.n=n,c}};function p(n,r){for(i=n,l=r,t=0;!u&&d&&!o&&t<s.length;t++){var o,a=s[t],p=m.p,f=a[2];n>3?(o=f===r)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,m.v=r,m.n=a[1]):p<f&&(o=n<3||a[0]>r||r>f)&&(a[4]=n,a[5]=r,m.n=f,i=0))}if(o||n>1)return c;throw u=!0,r}return function(o,s,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===s&&p(s,f),i=s,l=f;(t=i<2?e:l)||!u;){a||(i?i<3?(i>1&&(m.n=-1),p(i,l)):m.n=l:m.v=l);try{if(d=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(u=m.n<0)?l:n.call(r,m))!==c)break}catch(t){a=e,i=1,l=t}finally{d=1}}return{value:t,done:u}}}(n,o,a),!0),d}var c={};function i(){}function l(){}function d(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(C(t={},r,function(){return this}),t),u=d.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,C(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=d,C(u,"constructor",d),C(d,"constructor",l),l.displayName="GeneratorFunction",C(d,o,"GeneratorFunction"),C(u),C(u,o,"Generator"),C(u,r,function(){return this}),C(u,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m}})()}function C(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}C=function(e,t,n,r){function a(t,n){C(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},C(e,t,n,r)}function E(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){E(a,r,o,c,i,"next",e)}function i(e){E(a,r,o,c,i,"throw",e)}c(void 0)})}}var n,r=[],o=0,a="https://api.rawg.io/api/games?key=8300c0cf2bb64d9693d986c5c019deba",c=document.querySelector("header"),i=document.querySelector("main"),l=function(){var e=L(w().m(function e(){var t,n,r,o,c,i=arguments;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,n=i.length>1&&void 0!==i[1]?i[1]:40,e.p=1,e.n=2,fetch("".concat(a,"&page_size=").concat(n,"&page=").concat(t));case 2:return r=e.v,e.n=3,r.json();case 3:return o=e.v,e.a(2,{results:o.results,next:o.next});case 4:return e.p=4,c=e.v,console.error("Error fetching data:",c),e.a(2,{results:[],next:null})}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=L(w().m(function e(t){var n,r,o,c,i,l,d;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=a.split("?")[0],o=null===(n=a.match(/key=([^&]*)/))||void 0===n?void 0:n[1],c="".concat(r,"/").concat(t,"?key=").concat(o),console.log("Fetching game details from:",c),e.n=1,fetch(c);case 1:if((i=e.v).ok){e.n=2;break}throw new Error("HTTP error! status: ".concat(i.status));case 2:return e.n=3,i.json();case 3:return l=e.v,console.log("Game details received:",l),e.a(2,l);case 4:return e.p=4,d=e.v,console.error("Error fetching game details:",d),e.a(2,null)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}();function x(){return S.apply(this,arguments)}function S(){return S=L(w().m(function e(){var t,n,r,o,a;return w().w(function(e){for(;;)switch(e.n){case 0:t=[],n=40,r=5,o=1;case 1:if(!(o<=r)){e.n=5;break}return e.n=2,l(o,n);case 2:if(0!==(a=e.v).results.length){e.n=3;break}return e.a(3,5);case 3:if(t=[].concat(f(t),f(a.results)),a.next){e.n=4;break}return console.log("no more pages.."),e.a(3,5);case 4:o++,e.n=1;break;case 5:return e.a(2,t.map(function(e){var t=e.released,n=e.background_image,r=e.name,o=e.id,a=e.description;return{releaseDate:t,poster:n,title:r,gameId:o,platforms:e.platforms,genres:e.genres,rating:e.rating,description:a}}))}},e)})),S.apply(this,arguments)}var s=await x();r=s.slice(o,o+9);var u=s,m=[],p=!1;function k(){var e=document.createElement("div");e.classList.add("loadMore");var t=document.createElement("button");t.type="button",t.classList.add("btnLoadMore"),t.textContent="Load More Games",e.appendChild(t),c.appendChild(e);var n=document.createElement("div");return n.classList.add("games-container"),i.appendChild(n),{button:t,containerGames:n}}function T(e){return G.apply(this,arguments)}function G(){return(G=L(w().m(function e(t){var n,r,o,a,l,s,u,m,p,f,v,h,g,b,y,C,E,L,x,S,k,T,G,_,q,O,j,A,H,P,D,N,F,z,B,R;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return console.log("InitializeCardPage called with game:",t),n=t.releaseDate,r=t.poster,o=t.title,a=t.platforms,l=t.genres,s=t.rating,u=t.gameId,m=document.querySelector(".loadMore"),console.log("Load button found:",m),m?(m.classList.add("hiddenLoad"),console.log("Added hiddenLoad class to load button")):console.error("Load button not found!"),p=document.querySelector(".games-container"),console.log("Games container found:",p),p?(p.classList.add("hiddenGames"),console.log("Added hiddenGames class to games container")):console.error("Games container not found!"),(f=document.createElement("button")).classList.add("backButton"),f.textContent="← Back to Games",f.addEventListener("click",function(){I()}),(v=document.createElement("div")).classList.add("titlePage"),v.appendChild(f),(h=document.createElement("h2")).textContent=o,g=document.createElement("p"),b=document.createElement("p"),g.textContent="Rating: ".concat(s),b.textContent="Released: ".concat(n),v.appendChild(h),v.appendChild(g),v.appendChild(b),(y=document.createElement("section")).classList.add("oneCardContainer"),(C=document.createElement("div")).classList.add("containerImage"),(E=document.createElement("img")).src=r,E.alt=o,C.appendChild(E),y.appendChild(C),(L=document.createElement("div")).classList.add("gameDescription"),(x=document.createElement("div")).classList.add("descriptionDiv"),(S=document.createElement("p")).textContent="Loading detailed description...",S.classList.add("loading-text"),x.appendChild(S),e.p=1,console.log("Fetching details for game ID:",u),e.n=2,d(u);case 2:k=e.v,S.remove(),k?(T=k.description_raw||k.description||t.description||"No description available",(G=document.createElement("p")).innerHTML=T,x.appendChild(G),_=k.platforms||a,q=k.genres||l,O=document.createElement("div"),j=document.createElement("h4"),A=document.createElement("ul"),O.classList.add("platformsGame"),j.textContent="Platforms",_&&_.length>0?_.forEach(function(e){var t=document.createElement("li");t.textContent=e.platform?e.platform.name:e.name||e,A.appendChild(t)}):((H=document.createElement("li")).textContent="No platforms available",A.appendChild(H)),O.appendChild(j),O.appendChild(A),P=document.createElement("div"),D=document.createElement("h4"),N=document.createElement("ul"),P.classList.add("genresGame"),D.textContent="Genres",q&&q.length>0?q.forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,N.appendChild(t)}):((F=document.createElement("li")).textContent="No genres available",N.appendChild(F)),P.appendChild(D),P.appendChild(N),L.appendChild(x),L.appendChild(O),L.appendChild(P)):((z=document.createElement("p")).textContent=t.description||"No description available",x.appendChild(z),M(L,a,l)),e.n=4;break;case 3:e.p=3,R=e.v,console.error("Error loading game details:",R),S.remove(),(B=document.createElement("p")).textContent="Error loading detailed description. Using basic information.",B.classList.add("error-text"),x.appendChild(B),M(L,a,l);case 4:return y.appendChild(L),c.appendChild(v),i.appendChild(y),e.a(2,{divTitle:v,section:y})}},e,null,[[1,3]])}))).apply(this,arguments)}function M(e,t,n){var r=document.createElement("div"),o=document.createElement("h4"),a=document.createElement("ul");if(r.classList.add("platformsGame"),o.textContent="Platforms",t&&t.length>0)t.forEach(function(e){var t=document.createElement("li");t.textContent=e.platform?e.platform.name:e.name||e,a.appendChild(t)});else{var c=document.createElement("li");c.textContent="No platforms available",a.appendChild(c)}r.appendChild(o),r.appendChild(a);var i=document.createElement("div"),l=document.createElement("h4"),d=document.createElement("ul");if(i.classList.add("genresGame"),l.textContent="Genres",n&&n.length>0)n.forEach(function(e){var t=document.createElement("li");t.textContent=e.name||e,d.appendChild(t)});else{var s=document.createElement("li");s.textContent="No genres available",d.appendChild(s)}i.appendChild(l),i.appendChild(d),e.appendChild(r),e.appendChild(i)}function _(e){if(console.log("Searching for:",e),!e||""===e.trim())return p=!1,q(),o=0,P(r=u.slice(o,o+9)),void A();p=!0;var t=e.toLowerCase().trim();m=u.filter(function(e){var n=e.title.toLowerCase().includes(t),r=e.genres&&e.genres.some(function(e){return e.name&&e.name.toLowerCase().includes(t)}),o=e.platforms&&e.platforms.some(function(e){var n=e.platform?e.platform.name:e.name;return n&&n.toLowerCase().includes(t)});return n||r||o}),console.log("Found ".concat(m.length,' games matching "').concat(e,'"')),q(),m.length>0?(P(m),j()):(O(e),j())}function q(){var e=document.querySelector(".games-container");e&&(e.innerHTML="")}function O(e){var t=document.querySelector(".games-container");if(t){var n=document.createElement("div");n.classList.add("no-results"),n.innerHTML='\n      <h3>No games found for "'.concat(e,'"</h3>\n      <p>Try searching with different keywords or check your spelling.</p>\n    '),t.appendChild(n)}}function j(){var e=document.querySelector(".loadMore");e&&e.classList.add("hiddenLoad")}function A(){var e=document.querySelector(".loadMore");e&&e.classList.remove("hiddenLoad")}function H(e){var t=e.poster,n=e.title,r=document.createElement("div");r.classList.add("game-card");var o=document.createElement("img");o.classList.add("poster"),o.src=t,o.alt=n,r.appendChild(o);var a=document.createElement("div");a.classList.add("btnH3");var c=document.createElement("h3");c.textContent=n,a.appendChild(c);var i=document.createElement("button");return i.classList.add("readMore"),i.type="button",i.innerHTML="Read More",a.appendChild(i),r.appendChild(a),r}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=document.querySelector(".games-container");0!==e.length?t?(e.forEach(function(e){var n=H(e);t.appendChild(n)}),document.querySelectorAll(".game-card").forEach(function(e){n.observe(e)})):console.error("Games container not found"):console.error("No games found")}function D(){console.log("Creating scroll arrows...");var e=document.createElement("div");e.classList.add("scroll-arrows");var t=document.createElement("button");t.classList.add("scroll-arrow","scroll-up"),t.innerHTML='\n    <svg viewBox="0 0 24 24">\n      <path d="M7 14l5-5 5 5z"/>\n    </svg>\n  ';var n=document.createElement("button");return n.classList.add("scroll-arrow","scroll-down"),n.innerHTML='\n    <svg viewBox="0 0 24 24">\n      <path d="M7 10l5 5 5-5z"/>\n    </svg>\n  ',e.appendChild(t),e.appendChild(n),document.body.appendChild(e),console.log("Scroll arrows created and added to DOM"),{upArrow:t,downArrow:n}}function I(){var e=document.querySelector(".titlePage"),t=document.querySelector(".oneCardContainer");e&&e.remove(),t&&t.remove();var n=document.querySelector(".games-container");n&&n.classList.remove("hiddenGames"),p?j():A()}function N(){var e,t,a;n=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")})},{root:null,rootMargin:"0px 0px -50px 0px",threshold:.1}),k(),(a=document.querySelector(".inputSearch"))?(a.addEventListener("input",function(e){var n;n=e.target.value,clearTimeout(t),t=setTimeout(function(){_(n)},300)}),a.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),clearTimeout(t),_(e.target.value))}),a.addEventListener("blur",function(){""===a.value.trim()&&_("")})):console.error("Search input not found"),document.addEventListener("click",function(){var e=L(w().m(function e(t){var n,o,a;return w().w(function(e){for(;;)switch(e.n){case 0:if(!t.target.classList.contains("readMore")){e.n=3;break}if(console.log("Read More button clicked!"),t.preventDefault(),n=t.target.closest(".game-card"),o=n.querySelector("h3").textContent,console.log("Game title found:",o),(a=p?m.find(function(e){return e.title===o}):r.find(function(e){return e.title===o}))||(a=u.find(function(e){return e.title===o})),console.log("Game data found:",a),!a){e.n=2;break}return e.n=1,T(a);case 1:e.n=3;break;case 2:console.error("No game data found for title:",o);case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),P(r),(e=document.querySelector(".btnLoadMore"))?e.addEventListener("click",function(t){if(t.preventDefault(),p)console.log("Search mode active, not loading more games");else{if((o+=9)>=u.length)return e.disabled=!0,void(e.textContent="Tous les jeux chargés");var n=u.slice(o,o+9);r=[].concat(f(r),f(n)),P(n)}}):console.error("Load more button not found"),setTimeout(function(){var e,t,n;e=D(),t=e.upArrow,n=e.downArrow,t.addEventListener("click",function(){console.log("Up arrow clicked");var e=window.pageYOffset;if(e<=100)window.scrollTo({top:0,behavior:"smooth"});else{var t=window.innerHeight,n=Math.max(0,e-t);console.log("Scrolling to:",n),window.scrollTo({top:n,behavior:"smooth"})}}),n.addEventListener("click",function(){console.log("Down arrow clicked");var e=window.pageYOffset,t=window.innerHeight,n=document.body.scrollHeight-window.innerHeight,r=Math.min(n,e+t);console.log("Scrolling to:",r),window.scrollTo({top:r,behavior:"smooth"})}),window.addEventListener("scroll",function(){var e=window.pageYOffset,r=document.body.scrollHeight-window.innerHeight;t.style.opacity=e>100?"1":"0.3",n.style.opacity=e<r-100?"1":"0.3"})},100)}N(),t()}catch(F){t(F)}},1)}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return a[e](n,n.exports,i),n.exports}e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",n=e?Symbol("webpack exports"):"__webpack_exports__",r=e?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},i.a=(e,a,c)=>{var i;c&&((i=[]).d=-1);var l,d,s,u=new Set,m=e.exports,p=new Promise((e,t)=>{s=t,d=e});p[n]=m,p[t]=e=>(i&&e(i),u.forEach(e),p.catch(e=>{})),e.exports=p,a(e=>{var a;l=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var a=[];a.d=0,e.then(e=>{c[n]=e,o(a)},e=>{c[r]=e,o(a)});var c={};return c[t]=e=>e(a),c}}var i={};return i[t]=e=>{},i[n]=e,i}))(e);var c=()=>l.map(e=>{if(e[r])throw e[r];return e[n]}),d=new Promise(e=>{(a=()=>e(c)).r=0;var n=e=>e!==i&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));l.map(e=>e[t](n))});return a.r?d:c()},e=>(e?s(p[r]=e):d(m),o(i))),i&&i.d<0&&(i.d=0)},i(300)})();